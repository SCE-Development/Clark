{
	"name": "CoreAccess",
	"type": "view",
    "desc": "An optional description of the schema. Note that this.view is only required if this.type == 'view'. Note that the ppk string is optional. Note that this.textIndex is optional but is only valid if this.type == 'collection'.",
    "view": {
        "source": "Member",
        "pipeline": [
					{
						"$lookup": {
							"from": "MembershipData",
							"localField": "memberID",
							"foreignField": "memberID",
							"as": "memPlanData"
						}
					},
					{
						"$match": {
							"$or": [
								{
									"memPlanData.level": 0
								},
								{
									"memPlanData.level": 1
								}
							]
						}
					},
					{
						"$replaceRoot": {
							"newRoot": {
								"memberID": "$memberID",
								"userName": "$userName",
								"passWord": "$passWord",
								"level": "$memPlanData.level"
							}
						}
					},
					{
						"$unwind": "$level"
					}
        ]
    },
    "members": {
			"memberID": "number",
			"userName": "string",
			"passWord": "string",
			"level": "number"
    }
}
