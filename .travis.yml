language: node_js
node_js:
 - "lts/*"
services:
  - mongodb
sudo: required
before_install:
  - ./setup.sh
install:
 - echo $ENCODED_CONFIG > .temp
 - base64 --decode .temp > api/config/config.js
 - npm install
script:
 - npm run api-test
 - npm run frontend-test
 - npm run build
